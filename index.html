<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pemilihan Ketua Kelas</title>

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    margin: 0;
    padding: 20px;
}

.container {
    max-width: 500px;
    margin: auto;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

h1 {
    text-align: center;
}

select, button {
    width: 100%;
    padding: 12px;
    margin-top: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 16px;
}

button {
    background: #007bff;
    color: white;
    border: none;
    cursor: pointer;
}

button:hover {
    background: #0056b3;
}

canvas {
    margin-top: 20px;
}
</style>
</head>

<body>
<div class="container">
    <h1>Pemilihan Ketua Kelas</h1>

    <label>Pilih Calon:</label>
    <select id="candidateSelect"></select>

    <button onclick="vote()">Kirim Suara</button>

    <canvas id="voteChart"></canvas>
</div>

<script>
const candidates = [
"ALIKHA ALFARISHA",
"ANGGIA RAFFAELA NOVALISTA",
"ANISA SEPTIYANI",
"ANNISA SALSABILAH",
"AYU SRI HASTUTI",
"BUNGA APRILIA",
"DAFFA INU ZAKI",
"EKA PUTRI WULANDARI",
"I KADEK DEVASYA PUTRA JAYA",
"IRHAN FAZILA",
"ISMI AULIA",
"KAILA FEBRIYANTI",
"KEYSHA ALYA RABANI",
"MAULIDA NUR AFIFAH",
"NAZWA CHAMILAH",
"NINDIE JASMINE VIOLIEN PUTRI PURNOMO",
"NURHAMIDAH BATUBARA",
"PUTRI MAHSYA ZAHARANI YODI",
"RENI MILAWATI",
"SALMA FADJRIAH WAHAB",
"SAPTA YULIMELINIA",
"SEKAR INDAH CAHYANI",
"SHERINE RAMADHAN",
"SHEIRA PUTRI KHAIRIYIAH",
"SINDY AGRESTINA SITUMEANG",
"YANTO",
"YELNI PAULINA BR TAMBA",
"ATING",
"YAMOTUHO"
];

let votes = JSON.parse(localStorage.getItem("votes")) || {};
candidates.forEach(name => votes[name] = votes[name] || 0);

// Dropdown
const select = document.getElementById("candidateSelect");
candidates.forEach(name => {
    const option = document.createElement("option");
    option.value = name;
    option.textContent = name;
    select.appendChild(option);
});

// Chart
const ctx = document.getElementById("voteChart").getContext("2d");
const chart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: candidates,
        datasets: [{
            label: 'Jumlah Suara',
            data: candidates.map(n => votes[n]),
            backgroundColor: '#4e73df'
        }]
    },
    options: {
        responsive: true,
        plugins: {
            legend: { display: false }
        },
        scales: {
            y: {
                beginAtZero: true,
                ticks: { stepSize: 1 }
            }
        }
    }
});

function vote() {
    const selected = select.value;
    votes[selected]++;
    localStorage.setItem("votes", JSON.stringify(votes));

    chart.data.datasets[0].data = candidates.map(n => votes[n]);
    chart.update();

    alert("Suara berhasil dikirim!");
}
</script>
</body>
</html>

